<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/bootstrap.css" />
    <link rel="stylesheet" href="css/styles.css">

    <script src="https://kit.fontawesome.com/289a62abf7.js" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>  
    <title>test</title>
</head>

<style>
   
</style>

<body>
    <div class="work_select">
        <div class="work_select_head">
            <span style="margin-left: 5px;">그룹</span>
            <div class="find" style="width: 250px; display: flex; align-items: center; margin-left: auto;">
                <input class="button_find" type="text" id="find" placeholder="그룹 검색" style="font-size: small; width: 400px;"/> 
                <img src="icon_root/finding.png" style="width: 25px; height: 25px; margin: 5px"/>                    
            </div>
            <button class="button_add" id="add3">그룹 추가</button>
        </div>

        <div class="work_select_content">
            <table class="table table-hover" id="group_table_2">
                <tbody id="tbody_group">
                    <tr><td class="group_list_2">
                        <div style="display: flex; flex-direction: row; gap: 10px;">
                            <span>그룹명</span>   
                            <img src="icon_root/edit.png" style="height:20px; width:20px;"/>                        
                        </div>
                        <div style="margin-left: auto; display: flex; flex-direction: row; gap: 10px;">
                            <span>그룹 색상 수정</span>
                            <input type="color" id="groupcolor"/>                            
                        </div>
                    </td></tr>
                    <tr><td class="group_list_2">
                        <div style="display: flex; flex-direction: row; gap: 10px;">
                            <span>그룹명</span>   
                            <img src="icon_root/edit.png" style="height:20px; width:20px;"/>                        
                        </div>
                        <div style="margin-left: auto; display: flex; flex-direction: row; gap: 10px;">
                            <span>그룹 색상 수정</span>
                            <input type="color" id="groupcolor"/>                            
                        </div>
                    </td></tr>
                </tbody>
            </table>
        </div>
    </div>
</body>
<script>
   function addgroup(){
        const container = document.getElementById("group");

        const newBox = document.createElement("div");
        newBox.className = "tbody_group";
        newBox.innerHTML = `
            <div style="display: flex; flex-direction: row; gap: 10px;">
                <span>${groupName}</span>   
                <img src="icon_root/edit.png" style="height:20px; width:20px;"/>                        
            </div>
            <div style="margin-left: auto; display: flex; flex-direction: row; gap: 10px;">
                <span>그룹 색상 수정</span>
                <input type="color" id="groupcolor"/>                            
            </div>
        `;
        container.appendChild(newBox);
    }
    
    document.getElementById("add3").addEventListener("click", function () {
        const groupName = prompt("그룹 이름을 작성하세요");
        if (!groupName) {
            return;
        }
        addgroup();
    });
   
    // fetch('http://localhost:8080/api/test')
    //     .then(res => res.json())
    //     .then(data => {
    //         if (data.length > 0) {
    //         document.getElementById('id').textContent = data[0].name;
    //         } else {
    //         document.getElementById('id').textContent = '유저 없음';
    //         }
    //     });

function editname(){
        const name = document.getElementById("pjname");
        const edit = document.getElementById("edit");
        let oldname = name.textContent;
        edit.addEventListener("click", () => {
                name.contentEditable = "true";
                name.style.outline = "1px solid #aaa";
                name.focus();

                oldname = name.textContent;
            }
        );
        name.addEventListener("keydown", e => {
                if (e.key === "Enter") {
                    e.preventDefault();
                    name.blur();
                }
            }
        );   

        name.addEventListener("blur", () => {
                name.contentEditable = "false";
                name.style.outline = "none";
                if(name.textContent !== oldname){
                    const result = confirm("프로젝트 이름을 변경하겠습니까?");
                    if(!result){
                        name.textContent = oldname;
                    }
                }
            }
        );        
    }
</script>
</html>
